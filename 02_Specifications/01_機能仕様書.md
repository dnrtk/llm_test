# 機能仕様書

## 1. アプリケーション概要
- アプリケーション名: 3マッチパズルゲームソルバー
- 概要: Androidスマートフォン上で動作する3マッチパズルゲームの自動解析アプリです。画面上にオーバーレイ表示されたボタンをタップすることで解析を開始し、最適な一手（最高得点が期待できる手）を画面上にオーバーレイ表示します。

## 2. 機能詳細
### 2.1. 主要機能
- **自動解析機能**:
    - 画面上の3マッチパズルゲームの盤面を認識し、現在の盤面における最適な一手（最高得点が期待できる手）を自動的に解析します。
    - 解析アルゴリズムは、可能な全ての手を評価し、最も高い評価値を持つ手を最適手とします。評価値の算出には、連鎖の可能性、消去されるピース数、特殊ピースの生成などを考慮します。
- **オーバーレイ表示機能**:
    - アプリケーションは、他のアプリの上にオーバーレイ表示されます。
    - オーバーレイ表示には、以下の要素が含まれます。
        - **解析開始ボタン**: 解析を開始するためのボタンです。
        - **解析結果表示**: 解析結果（最適手）を視覚的に分かりやすく表示します。例えば、矢印やハイライトなどで最適手を指示します。

### 2.2. 言語設定機能
- アプリケーションの表示言語を日本語と英語で切り替えることができます。
- デフォルト言語は日本語とします。
- 設定画面から言語を切り替えることができます。

## 3. 前提条件
- 対象プラットフォーム: Androidスマートフォン
- 開発言語: Python (Kivy, PySide6などを検討)
- 標準言語: 日本語 (英語切り替え可能)

## 4. 非機能要件
- **パフォーマンス**:
    - 解析処理は、ユーザーがストレスを感じない程度の時間で完了することを目指します。具体的な目標値は、初期バージョンでは5秒以内、改善目標としては1秒以内とします。
    - アプリケーションの動作は、他のアプリの動作を妨げない程度に軽量であること。
- **ユーザビリティ**:
    - オーバーレイ表示は、ゲーム画面の視認性を極力損なわないように、かつ解析結果が分かりやすいように工夫すること。
    - 操作は直感的で分かりやすく、ユーザーが迷わないようにすること。
- **信頼性**:
    - アプリケーションは、予期せぬエラーで停止することなく、安定して動作すること。
    - 解析結果は、可能な限り正確であること。

## 5. 今後の拡張機能 (オプション)
- **解析履歴機能**: 過去の解析結果を保存し、後から確認できるようにする機能。
- **手動入力機能**: 画面認識だけでなく、ユーザーが手動で盤面を入力できるようにする機能。
- **対応ゲーム種類の拡張**: 現状は3マッチパズルゲームのみを対象とするが、将来的には他のパズルゲームにも対応できるように拡張する。
